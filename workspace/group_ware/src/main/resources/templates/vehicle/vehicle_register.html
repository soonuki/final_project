<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{include/layout.html}">

    <th:block layout:fragment="content">
        <link rel="stylesheet" th:href="@{/css/vehicle/vehicle_register.css}"/>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>

        <section>   
            <form id="vehicleForm" method="post" action="/api/vehicle/register" enctype="multipart/form-data">
                <!-- CSRF Token -->
                <input type="hidden" name="_csrf" th:value="${_csrf.token}">

                <div class="form-container">
                    <!-- 차량 크기 선택 -->
                    <div class="form-group">
                        <label for="sizeNo">차량 크기</label>
                        <select id="sizeNo" name="size_no" required>
                            <option value="" disabled selected>크기를 선택하세요</option>
                            <option th:each="size : ${vehicleSize}" 
                                    th:value="${size.sizeNo}" 
                                    th:text="${size.vehicleSize}">
                            </option>
                        </select>
                    </div>

                    <!-- 차량 모델명 입력 -->
                    <div class="form-group">
                        <label for="vehicleModel">차량 모델명</label>
                        <input type="text" id="vehicleModel" name="vehicleModel" required>
                    </div>

                    <!-- 출시일 입력 -->
                    <div class="form-group">
                        <label for="vehicleReg">출시일</label>
                        <input type="date" id="vehicleReg" name="vehicleReg" required>
                    </div>

                    <!-- 재고량 입력 -->
                    <div class="form-group">
                        <label for="vehicleInventory">재고량</label>
                        <input type="number" id="vehicleInventory" name="vehicleInventory" required>
                    </div>

                    <!-- 연료 종류 선택 -->
                    <div class="form-group">
                        <label for="vehicleFuel">연료 종류</label>
                        <select id="vehicleFuel" name="vehicleFuel" required>
                            <option value="" disabled selected>연료 종류를 선택하세요</option>
                            <option value="수소">수소</option>
                            <option value="디젤">디젤</option>
                            <option value="하이브리드">하이브리드</option>
                            <option value="가솔린">가솔린</option>
                            <option value="전기">전기</option>
                        </select>
                    </div>

                    <!-- 연비 입력 -->
                    <div class="form-group">
                        <label for="vehicleEfficiency">연비</label>
                        <input type="text" id="vehicleEfficiency" name="vehicleEfficiency" required>
                    </div>

                    <!-- 출력 입력 -->
                    <div class="form-group">
                        <label for="vehicleRpm">출력</label>
                        <input type="text" id="vehicleRpm" name="vehicleRpm" required>
                    </div>

                    <!-- 배기량 입력 -->
                    <div class="form-group">
                        <label for="vehicleDisplacement">배기량</label>
                        <input type="text" id="vehicleDisplacement" name="vehicleDisplacement" required>
                    </div>

                    <!-- 출고 가능 여부 선택 -->
                    <div class="form-group">
                        <label for="vehicleStatus">출고 가능 여부</label>
                        <select id="vehicleStatus" name="vehicleStatus">
                            <option value="Y">출고 가능</option>
                            <option value="N">출고 불가</option>
                        </select>
                    </div>

                    <!-- 미리보기 영역 -->
                    <div class="form-group">
                        <label for="vehicleImage">차량 사진</label>
                        
                        <!-- 미리보기 영역: 크기 315x315 -->
                        <div id="preview" style="margin-top: 10px; margin-bottom: 10px; width: 100%; height: 150px; border-radius: 4px; border: 1px solid #ccc; display: flex; justify-content: center; align-items: center; overflow: hidden;">
                            <img id="previewImage" src="" alt="미리보기 이미지" style="max-width: 100%; max-height: 100%; display: none;">
                        </div>
                        <input type="file" id="vehicleImage" name="vehicleImage" accept="image/*" required>
                    </div>

                    <button type="submit" class="register-button">저장</button>
                </div>
            </form>
        </section>

        <script th:src="@{/js/vehicle_register.js}"></script>
    </th:block>
</html>
